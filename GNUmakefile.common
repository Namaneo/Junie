WASI_SDK   := $(shell pwd)/../deps/wasi-sdk
EMSCRIPTEN := $(shell pwd)/../deps/emsdk/upstream

DEFINES += \
	--sysroot=$(WASI_SDK)/share/wasi-sysroot \
	--target=wasm32-wasi-threads -pthread \
	-I$(EMSCRIPTEN)/emscripten/cache/sysroot/include/c++/v1 \
	-I$(EMSCRIPTEN)/emscripten/cache/sysroot/include

CC     := $(WASI_SDK)/bin/clang $(DEFINES)
CXX    := $(WASI_SDK)/bin/clang++ $(DEFINES)
AR     := $(WASI_SDK)/bin/ar
RANLIB := $(WASI_SDK)/bin/ranlib
